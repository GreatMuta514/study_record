## 条件分岐

### if文では最初に合致したブロックのみが実行される

```php
<?php
$x = 35;
if ($x > 20) {
  print '変数$xは20より大きいです。'; // 実行
} elseif ($x > 10) {
  print '変数$xは10より大きく、20以下です。'; // 実行されず
} else {
  print '変数$xは10以下です。';
}
```

はじめに該当したものが実行され、後の処理はスキップされるので、狭いものから条件にしていく必要がある。

### if文ではブロックを明示する

ブロックで囲ったelse：同じ階層のifと比較する

ブロックで囲わなかったelse：直前のifと比較する

```php
<?php
$x = 1;
$y = 0;
if ($x === 1) {
  if ($y === 1) {
    print '変数$x、$yは1です。';
  }
} else {
  print '変数$xは1ではありません。'; // 出力されない
}
```

```php
<?php
$x = 1;
$y = 0;
if ($x === 1) 
  if ($y === 1) 
    print '変数$x、$yは1です。';
else
  print '変数$xは1ではありません。'; // 出力される
```

## 条件式からできるだけ否定を取り除く

人間が感覚的に読みにくいので。ドモルガンの法則を利用して、できるだけ肯定に置き換える。

悪い例

```php
if (!$flag1 && !$flag2) {...}
```

良い例

```php
if (!($flag1 || $flag)) {...}
```

## switch文

等価演算子（==）による条件分岐に適している。関係演算子（< や ≤など）の時は使えない。

```php
<?php
$rank = '甲';
switch ($rank) {
  case '甲' :
    print '大変良いです。';
    break;
  case '乙' :
    print '良いです。';
    break;
  case '丙' :
    print 'もう少しがんばりましょう。';
    break;
  default :
    print '？？？';
    break;
}
```

- どのケースにも該当しない場合はdefaultの処理が走る。
- switch文では等価演算子は==が使用される。（===ではないので注意）

### break

- ケースに該当したときにブロックを抜け出す場合、breakを使う。
- breakを実装せずに次のケースで判定することを「フォールスルー」という。→読みにくいのであんまり使わないようにする。

## match式

caseと同じく等価演算子を扱う場合に使う。

### case分との違い

- 厳格な投下演算子(===)が採択されている。
- 値を返せること。変数束縛の右式として使える。
- デフォルトでフォールスルーは発生しないので、break不要。
- ⇒ の右式は一つの式まで。複数の式を渡すことはできない。

```php
<?php
$rank = '甲';
$result = match($rank) { // 結果を変数に束縛している。
  '甲' => '大変良いです。',
  '乙' => '良いです。',
  '丙' => 'もう少しがんばりましょう。',
  default => '？？？'
};
print $result;
```

## while文

```php
<?php
$i = 1;
while ($i < 6) {
  print "{$i}番目のループです。<br />";
  $i++;
}
```

- 条件式がtrueの場合ブロック内の処理が実行される。
- 書き方は2通り

前置処理

```php
while (条件式) {
  // 処理
}
```

後置処理

```php
do {
	  // 処理
} while (条件式)
```

条件式の判定が先。条件式がfalseなら処理は発生しない。

条件式の判定が後。条件式がfalseなら処理は発生しない。

## foreach

配列のインデックス処理。

配列の各要素に対して値渡しか参照渡しを指定できる。

**値渡し**

```php
<?php
$data = ['高江', '掛谷', '日尾', '薄井', '和田'];
foreach ($data as $value) {
  $value = 'New' . $value;
}
print_r($data);

/*
	Array ( [0] => 高江 [1] => 掛谷 [2] => 日尾 [3] => 薄井 [4] => 和田 )
*/
```

**参照渡し**

```php
<?php
$data = ['高江', '掛谷', '日尾', '薄井', '和田'];
foreach ($data as &$value) {
  $value = 'New' . $value;
}
print_r($data);

/*
	Array ( [0] => New高江 [1] => New掛谷 [2] => New日尾 [3] => New薄井 [4] => New和田 )
*/
```
